---
title: 'Foundations in Digital Humanities 2.11'
subtitle: 'Map Processing'
author:
 - Frederic Kaplan

# Don't change the following lines
header-includes:
- \usepackage{fancyhdr}
- \pagestyle{fancy}
- \fancyfoot[L]{-release-version-}
output: pdf_document

---

# Map Processing

## Concepts



Mapping informattion is not even distributed (cf Google Street View, OSM Maps)

Retrochronological appraoch



### Cadastral computing

- Georeferencing images using homologous points The georeferencing can be carried out using the georeferencing tool of the open source software QGIS. For each iamges , between 5 and 7 points can be chosen avoiding bridges, quays and road networks that might not be stable over time and favouring the corners of the main historical buildings. Affine transformation is sufficient. 

- GeoTIFF Format : The georeferenced plates are recorded in the GeoTIFF public domain format, allowing georeferencing information to be added to a TIFF image. 

- Composed image A network of images combining all the georeferenced plates, called a composed image, is thus constituted to allow the automatic extraction of parcel geometries as well as their identification numbers, which allows the link with the registers. 

- Segmentation and vectorization  : In 2017, a first study on the extraction of the cadastre showed promising results in terms of parcel extraction and recognition of identifiers. However, this method was entirely designed as an ad hoc pipeline adapted to a particular cadastre ( Oliveira et al. (2017)). The method used in this more generic study uses deep learning to segment the images of the cadastral map to identify plot borders and text segments (Oliveira et al. (2019)).  
  - The segmentation network is a fully convolutional neural network inspired by the U-Net architecture (Ronnenberg et al 2015). It uses a pre-formed network ResNet-50 (Ke et al 2016) as an encoder, which accelerates training, reduces the amount of training data required and aids generalisation. Details of this generic architecture are given in (Ares Oliveira et al 2018).  
  - Training : The neural network is trained to extract the contours and text of the plots using annotated data that correspond to about 1/3 of a map sheet from the 27 plates of the city of Venice. This annotation corresponds to about 800 plots.
- Transcription of identification numbers : The extracted borders are then used to calculate the parcel geometries to which the text segments are matched, which are transcribed using another artificial neural network. The identifier transcription network is a convolutional recurrent neural network that produces a string of characters when given an image segment containing text (Shi et al 2017). The network is trained on samples of identifiers from the Venetian archives and on numbers generated synthetically with the MNIST database (Lecun et al 1998).
- Performance : Intersection over Union. The performance of geometric extraction is measured by an IoU (Intersection over Union) calculation comparing the extracted geometries with 17000 annotated geometries. For a threshold value of IoU > 0.5, the recall level is 94% and the accuracy is 55%. This means that more than 9 out of 10 geometries could be extracted automatically. The average result in terms of accuracy mainly corresponds to more imprecise extractions on the road and canal network. 
- Performance of transcription : Concerning the transcription of plot numbers, the accuracy obtained is 92% and the recall 50%. All the detailed results are presented and discussed in Ares Oliveira et al (2019).
- GeoJSON export : The extraction of the vectorised parcels from the cadastral plan is saved as a GeoJSON file, an open format for simple geospatial data using the JSON (JavaScript Object Notation) standard.



## Practice

(Voir Remi Petitpierre Master Thesis. )

Open question : First geolocalisation or after ?

Georeference based on raster or vector ?

Learning how to georeference a map

Using Open Street Map

Using QGIS

Using MapBox

- Good personalisation
- Less data than Google but very interesitng anyway in particular for Pix2Pix application 

Using Google API

Using Gazeeteers. 

Focus on Geonames. Level of entities. Venice is a city, Venice a has district. 

A subset : Populated places in Geonames. 

See also : http://whgazetteer.org

Differnt kind of populaed place like : Former occupied populated place 

Existing Systems

- Running Reality



## Further reading

Book on Gazeeters

- Chiang, Y.-Y.,	 Leyk,	 S.,	 and	 Knoblock, C.	 A. (2014).  “A	 survey	 of	 digital	 map	 processing	 techniques,” ACM	 Computing	Surveys	(CSUR),	vol.	47,	no.	1,	p.	1,	2014
- Noizet, H.,	 Bove, B.,	 and	 Costa, L. (2013) “Paris	 de	 parcelles	en	pixels.”
- Gregory, I. N.,	 Kemp, K.	 K.,	 and	 Mostern,	 R. (2001).	 “Geographical	 information	 and	 historical	 research:	 Current	 progress	 and	 future	 directions,”	 History	 and	 Computing,	vol.	13,	no.	1,	pp.	7–23.

